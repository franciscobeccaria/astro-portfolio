---
import '@/styles/globals.css'
import Header from '@/components/header'
import { Button } from '@/components/ui/button'
import { LuHouse, LuArrowLeft, LuSearch } from 'react-icons/lu'
import { getTranslations, getCurrentLanguage } from '@/i18n/utils'

const currentLang = getCurrentLanguage(Astro.url)
const t = await getTranslations(currentLang)
---

<html lang={currentLang}>
  <head>
    <title>404 - {t.errors?.pageNotFound || 'Page Not Found'} | Francisco Beccaria</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={t.errors?.pageNotFoundDescription || "The page you're looking for doesn't exist. Return to Francisco Beccaria's portfolio."}>
    <meta name="robots" content="noindex">
    <link rel="icon" href="/favicon.ico" sizes="32x32" />
  </head>
  <body>
    <Header client:load lang={currentLang} />
    
    <main class="min-h-screen bg-gray-50 flex items-center justify-center">
      <div class="max-w-md mx-auto text-center px-4">
        <!-- 404 Illustration -->
        <div class="mb-8">
          <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
            <span class="text-white text-4xl font-bold">404</span>
          </div>
        </div>

        <!-- Error Message -->
        <h1 class="text-3xl font-bold text-gray-900 mb-4">
          {t.errors?.pageNotFound || 'Page Not Found'}
        </h1>
        
        <p class="text-gray-600 mb-8 leading-relaxed">
          {t.errors?.pageNotFoundDescription || 
          "Sorry, the page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."}
        </p>

        <!-- Suggested Projects -->
        <div class="bg-white rounded-lg p-6 mb-8 shadow-sm">
          <h2 class="text-lg font-semibold mb-4 flex items-center justify-center">
            <LuSearch className="h-5 w-5 mr-2" />
            {t.errors?.suggestedProjects || 'Check out these projects:'}
          </h2>
          <div class="space-y-2">
            <a 
              href={currentLang === 'es' ? '/es/presus' : '/presus'} 
              class="block text-blue-600 hover:text-blue-800 hover:underline"
            >
              Presus - Budget Management System
            </a>
            <a 
              href={currentLang === 'es' ? '/es/vation' : '/vation'} 
              class="block text-blue-600 hover:text-blue-800 hover:underline"
            >
              Vation - Venture Capital Platform
            </a>
            <a 
              href={currentLang === 'es' ? '/es/filmo' : '/filmo'} 
              class="block text-blue-600 hover:text-blue-800 hover:underline"
            >
              Filmo - Movie Database
            </a>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="space-y-3 sm:space-y-0 sm:space-x-4 sm:flex">
          <Button size="lg" asChild className="w-full sm:w-auto">
            <a href={currentLang === 'es' ? '/es/' : '/'} class="inline-flex items-center justify-center">
              <LuHouse className="h-4 w-4 mr-2" />
              {t.navigation?.backToHome || 'Back to Home'}
            </a>
          </Button>
          
          <Button variant="outline" size="lg" asChild className="w-full sm:w-auto">
            <a href="javascript:history.back()" class="inline-flex items-center justify-center">
              <LuArrowLeft className="h-4 w-4 mr-2" />
              {t.navigation?.goBack || 'Go Back'}
            </a>
          </Button>
        </div>

        <!-- Language Switch Suggestion -->
        <div class="mt-8 p-4 bg-blue-50 rounded-lg">
          <p class="text-sm text-blue-800 mb-2">
            {currentLang === 'es' 
              ? '¿Estabas buscando el contenido en inglés?' 
              : 'Looking for content in Spanish?'}
          </p>
          <a 
            href={currentLang === 'es' ? '/' : '/es/'} 
            class="text-blue-600 hover:text-blue-800 underline font-medium"
          >
            {currentLang === 'es' 
              ? 'Switch to English' 
              : 'Cambiar a Español'}
          </a>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="py-6 bg-white border-t">
      <div class="container mx-auto px-4 text-center text-sm text-gray-600">
        <p>&copy; 2024 Francisco Beccaria. {t.footer?.rights || 'All rights reserved.'}</p>
      </div>
    </footer>
  </body>
</html>